# MediGuard: AI 기반 복약 관리 솔루션

**MediGuard**는 어르신과 보호자 모두의 복약 관리를 간소화하기 위해 설계된 포괄적인 모바일 중심 헬스케어 솔루션입니다. AI의 힘을 활용하여 처방전 추적, 일정 관리, 시기적절한 알림 전송 등 번거로운 과정을 자동화합니다.

이 시스템은 두 가지 주요 구성 요소로 이루어져 있습니다:

1.  React Native로 구축된 **크로스플랫폼 모바일 애플리케이션**.
2.  처방전 분석을 위한 AI 기반 OCR 엔진을 갖춘 Python 및 FastAPI로 구축된 **강력한 백엔드 서버**.

-----

## ✨ 핵심 기능

### 📱 모바일 애플리케이션 (React Native)

모바일 앱은 두 가지 고유한 역할에 맞춰진 사용자 친화적인 인터페이스를 제공하여 모든 사용자에게 최적의 경험을 보장합니다.

#### 👴 **어르신 모드**

단순함과 명확성을 염두에 두고 설계된 이 모드는 어르신들이 자신감을 갖고 자신의 복약을 관리할 수 있도록 지원합니다.

  * **한눈에 보는 대시보드**: 메인 화면에 현재 시간과 다음 복약 일정이 명확하게 표시되어 추측의 여지를 없애줍니다.
  * **푸시 알림**: 각 복용 시간에 맞춰 친절한 알림이 전송되어 약을 놓치지 않도록 합니다.
  * **간소화된 설정**: 복용 시간을 조정하거나 사용자 역할을 전환할 수 있는 접근하기 쉬운 컨트롤을 제공합니다.

#### 👩‍⚕️ **보호자 모드**

이 모드는 보호자가 사랑하는 사람의 복약 일정을 모니터링하고 관리할 수 있는 강력한 도구 모음을 제공합니다.

  * **종합 대시보드**: 환자의 복약 순응도 및 예정된 일정에 대한 전체 개요를 파악할 수 있습니다.
  * **AI 처방전 스캐너**: 단 몇 초 만에 새로운 처방전을 디지털화합니다. 사진을 찍기만 하면 AI가 모든 관련 정보를 자동으로 추출합니다.
  * **원격 일정 관리**: 환자의 복용 시간, 복용량, 알림 환경설정을 설정하고 조정합니다.
  * **캘린더 뷰**: 더 나은 계획과 추적을 위해 한 달 전체의 복약 일정을 시각화합니다.

### 🤖 AI OCR 백엔드 서버 (Python)

백엔드는 MediGuard의 지능적인 핵심입니다. 모바일 앱에서 처방전 이미지를 수신하고 Google의 Gemini AI를 사용하여 고급 광학 문자 인식(OCR)을 수행합니다.

  * **안전한 이미지 처리**: 모바일 애플리케이션에서 업로드된 이미지를 안전하게 처리합니다.
  * **지능형 데이터 추출**: 단순한 텍스트 인식을 넘어 처방전에서 다음과 같은 중요 정보를 지능적으로 식별하고 구조화합니다:
      * `MED_NM`: 약 이름
      * `DOSAGE`: 1회 복용량
      * `TIMES_PER_DAY`: 1일 복용 횟수
      * `DURATION_DAYS`: 총 처방 기간
  * **구조화된 JSON 출력**: 추출된 데이터를 깔끔하고 구조화된 JSON 형식으로 제공하여 모바일 앱이 정확한 복약 일정을 자동으로 생성할 수 있도록 합니다.

-----

## 🛠️ 기술 스택

### **프론트엔드 (모바일 앱)**

  * **프레임워크**: React Native (Expo 사용)
  * **언어**: TypeScript
  * **내비게이션**: React Navigation
  * **상태 관리**: (적용 가능한 상태 관리 라이브러리, 예: Zustand, Redux)
  * **UI 컴포넌트**: 일관되고 접근성 있는 디자인을 위한 커스텀 UI 컴포넌트

### **백엔드 (OCR 서버)**

  * **프레임워크**: FastAPI
  * **언어**: Python
  * **AI / ML**: Google Gemini AI
  * **이미지 처리**: Pillow

-----

## ⚙️ 시스템 아키텍처 및 워크플로우

사용자 여정은 원활하고 직관적으로 설계되었습니다:

1.  **역할 선택**: 사용자가 가입하고 "어르신" 또는 "보호자" 역할을 선택합니다.
2.  **처방전 업로드**: 사용자는 앱 내 카메라를 사용하여 처방전 사진을 찍거나 갤러리에서 이미지를 선택합니다 (`imagePicker.tsx`).
3.  **AI 분석 요청**: 이미지는 모바일 앱에서 백엔드 OCR 서버로 안전하게 전송되어 처리됩니다 (`ocr-processing.tsx`).
4.  **데이터 추출**: Python 서버는 Gemini AI 모델을 활용하여 이미지를 분석하고, 약물 세부 정보를 추출하여 구조화합니다 (`ocr_service.py`).
5.  **일정 생성**: 서버는 구조화된 JSON 데이터를 앱으로 반환하고, 앱은 이를 통해 자동으로 새로운 복약 일정을 채웁니다 (`medications.tsx`).
6.  **스마트 알림**: 앱은 약 복용 시간이 되면 사용자에게 알리기 위해 로컬 푸시 알림을 예약하고 전송합니다 (`ReminderHandler.tsx`).
7.  **지속적인 관리**: 사용자는 복약 순응도를 확인하고, 일정을 관리하며, 필요에 따라 새로운 처방전을 추가할 수 있습니다.

-----

## 🚀 시작하기

### 사전 요구사항

  * Node.js 및 npm/yarn
  * Python 3.8+ 및 pip
  * 모바일 기기의 Expo Go 앱 (개발용)
  * Google Gemini API 키

### 백엔드 설정

```bash
# 1. OCR 서버 디렉토리로 이동
cd ocr-server/

# 2. Python 종속성 설치
pip install -r requirements.txt

# 3. .env 파일을 생성하고 Gemini API 키 추가
# GEMINI_API_KEY="YOUR_GOOGLE_API_KEY"

# 4. FastAPI 서버 실행
uvicorn main:app --reload
```

### 모바일 앱 설정

```bash
# 1. React Native 프로젝트 디렉토리로 이동
cd mediguard-app/

# 2. Node.js 종속성 설치
npm install

# 3. Metro 번들러 시작
npx expo start
```

휴대폰의 Expo Go 앱으로 QR 코드를 스캔하여 애플리케이션을 실행하세요.
