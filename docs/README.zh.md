# MediGuard：AI 驱动的用药管理解决方案

**MediGuard** 是一款全面的、移动优先的医疗保健解决方案，旨在简化老年人及其护理人员的用药管理。利用人工智能的力量，该应用程序可自动完成跟踪处方、管理日程和发送及时提醒的繁琐过程。

该系统由两个主要部分组成：

1.  一个使用 React Native 构建的**跨平台移动应用程序**。
2.  一个使用 Python 和 FastAPI 构建的**强大的后端服务器**，配备了用于处方分析的 AI 驱动的 OCR 引擎。

-----

## ✨ 核心功能

### 📱 移动应用程序 (React Native)

该移动应用程序提供了一个用户友好的界面，针对两种不同的角色进行了定制，确保为每位用户提供最佳体验。

#### 👴 **老年人模式**

该模式以简洁明了为设计理念，使老年人能够自信地管理自己的药物。

  * **一目了然的仪表板**：主屏幕清晰显示当前时间和下一次预定用药，消除了任何猜测。
  * **推送通知**：为每次服药发送及时、友好的提醒，确保不会错过用药。
  * **简化的设置**：易于访问的控件，用于调整用药时间或切换用户角色。

#### 👩‍⚕️ **护理人员模式**

该模式为护理人员提供了一套强大的工具，用于监控和管理他们所爱之人的用药时间表。

  * **综合仪表板**：全面了解患者的用药依从性和即将到来的时间表。
  * **AI 处方扫描仪**：在几秒钟内将新处方数字化。只需拍张照片，我们的人工智能就会自动提取所有相关信息。
  * **远程日程管理**：为患者设置和调整用药时间、剂量和通知偏好。
  * **日历视图**：可视化整个月的用药时间表，以便更好地规划和跟踪。

### 🤖 AI OCR 后端服务器 (Python)

后端是 MediGuard 的智能核心。它从移动应用程序接收处方图像，并使用谷歌的 Gemini AI 执行高级光学字符识别 (OCR)。

  * **安全的图像处理**：安全地处理从移动应用程序上传的图像。
  * **智能数据提取**：超越简单的文本识别，智能地识别和构建处方中的关键信息，包括：
      * `MED_NM`: 药品名称
      * `DOSAGE`: 每次摄入剂量
      * `TIMES_PER_DAY`: 每日摄入频率
      * `DURATION_DAYS`: 处方总持续时间
  * **结构化的 JSON 输出**：以干净、结构化的 JSON 格式提供提取的数据，使移动应用程序能够自动生成准确的用药时间表。

-----

## 🛠️ 技术栈

### **前端 (移动应用)**

  * **框架**: React Native (使用 Expo)
  * **语言**: TypeScript
  * **导航**: React Navigation
  * **状态管理**: (适用的状态管理库，例如 Zustand, Redux)
  * **UI 组件**: 用于一致且易于访问的设计的自定义 UI 组件

### **后端 (OCR 服务器)**

  * **框架**: FastAPI
  * **语言**: Python
  * **AI / ML**: Google Gemini AI
  * **图像处理**: Pillow

-----

## ⚙️ 系统架构与工作流程

用户旅程设计得无缝且直观：

1.  **角色选择**：用户注册并选择其角色：“老年人”或“护理人员”。
2.  **处方上传**：用户使用应用内相机拍摄处方照片或从图库中选择图像 (`imagePicker.tsx`)。
3.  **AI 分析请求**：图像从移动应用程序安全地发送到后端 OCR 服务器进行处理 (`ocr-processing.tsx`)。
4.  **数据提取**：Python 服务器利用 Gemini AI 模型分析图像，提取药物详细信息并进行结构化 (`ocr_service.py`)。
5.  **创建日程**：服务器将结构化的 JSON 数据返回到应用程序，然后应用程序会自动填充新的用药时间表 (`medications.tsx`)。
6.  **智能提醒**：应用程序安排并发送本地推送通知，以提醒用户何时该服药 (`ReminderHandler.tsx`)。
7.  **持续管理**：用户可以查看依从性、管理日程并根据需要添加新处方。

-----

## 🚀 开始使用

### 先决条件

  * Node.js 和 npm/yarn
  * Python 3.8+ 和 pip
  * 移动设备上的 Expo Go 应用程序（用于开发）
  * 一个 Google Gemini API 密钥

### 后端设置

```bash
# 1. 导航到 OCR 服务器目录
cd ocr-server/

# 2. 安装 Python 依赖项
pip install -r requirements.txt

# 3. 创建一个 .env 文件并添加您的 Gemini API 密钥
# GEMINI_API_KEY="YOUR_GOOGLE_API_KEY"

# 4. 运行 FastAPI 服务器
uvicorn main:app --reload
```

### 移动应用设置

```bash
# 1. 导航到 React Native 项目目录
cd mediguard-app/

# 2. 安装 Node.js 依赖项
npm install

# 3. 启动 Metro 打包器
npx expo start
```

使用手机上的 Expo Go 应用程序扫描二维码以运行该应用程序。
